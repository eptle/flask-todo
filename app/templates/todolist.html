{% extends 'base_intro.html' %}

{% block content %}
<h1>{{ username }}</h1>
<h2>{{ board_id }} - {{ board_title }}</h2>
<div class="container mt-5">
    <form method="post" action="">
        {{ add_task_form.hidden_tag() }}
        <div class="form-group">
            {{ add_task_form.title.label }}
            {{ add_task_form.title(class="form-control", size=40) }}
            {% for error in add_task_form.title.errors %}
            <span class="text-danger">[{{ error }}]</span>
            {% endfor %}
            <div class="form-group">
                {{ add_task_form.submit(class="btn btn-primary") }}
            </div>
        </div>
    </form>
    <ul id="task-list" class="list-group">
        {% for task in tasks %}
            <li class="list-group-item d-flex justify-content-between align-items-center" data-task-id="{{ task['id'] }}">
                <p class="srt-task">{{ task['title'] }}</p>
                    <form class="badge bg-primary rounded-pill" method="post", action="{{ url_for('delete_task', task_id=task['id']) }}">
                        {{ delete_task_form.hidden_tag() }}
                        {{ delete_task_form.submit() }}
                    </form>
            </li>
        {% endfor %}
    </ul>
</div>
<script src="{{ url_for('static', filename='js/Sortable.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/drag_and_drop_tasks.js') }}"></script>
{% endblock %}